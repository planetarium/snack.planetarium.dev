<!doctype html><html lang=en prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=description content><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content><meta property="og:type" content="article"><meta property="og:description" content><meta property="og:title" content="Libplanet 0.8 Released"><meta property="og:site_name" content="Planetarium Engineering Snack"><meta property="og:url" content="https://snack.planetarium.dev/eng/2020/02/libplanet-0.8/"><meta property="og:locale" content="en"><meta property="article:published_time" content="2020-02-05"><meta property="article:modified_time" content="2020-02-05"><meta name=twitter:card content="summary"><meta name=twitter:site content="@"><meta name=twitter:creator content="@"><meta name=twitter:title content="Libplanet 0.8 Released | Planetarium Engineering Snack"><meta name=twitter:description content="Hello All.
Our team has released the eighth minor version of Libplanet, Version 0.8.
Libplanet is a common library that solves game implementation problems such as P2P communication and data synchronization when creating online multiplayer games that run on distributed P2P.
With the new version updated in nearly three months, there have been many improvements in version 0.8 including storage optimization. This article will cover major changes of Version 0.8.|"><meta name=twitter:image:src content><meta name=twitter:domain content="https://snack.planetarium.dev/eng/2020/02/libplanet-0.8/"><title>Libplanet 0.8 Released</title>
<link rel=canonical href=https://snack.planetarium.dev/eng/2020/02/libplanet-0.8/><link rel=alternate href=https://snack.planetarium.dev/kor/2020/02/libplanet-0.8/ hreflang=ko title="Libplanet 0.8 릴리스"><link href=https://snack.planetarium.dev/index.xml rel=alternate type=application/atom+xml title="Libplanet 0.8 Released"><link rel=stylesheet href=https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css><link rel=stylesheet href=https://snack.planetarium.dev/css/style.min.1a35efb5c5da4fd20bd2ec86458da5ee7cc1cfc81c4f107944b5e0fc59a3d809.css integrity="sha256-GjXvtcXaT9IL0uyGRY2l7nzBz8gcTxB5RLXg/Fmj2Ak="><script async src="https://www.googletagmanager.com/gtag/js?id=UA-132504786-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-132504786-2")</script><link rel=icon href=/favicon-32x32.png type=image/png sizes=32x32><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/apple-touch-icon.png></head><body class="sans-serif w-90 w-60-ns center center-ns mv2 mv5-ns" itemscope itemtype=http://schema.org/Article><a href=https://snack.planetarium.dev/eng/ id=site-title class="b bb bw1 pb1 no-underline dark-gray">Planetarium Engineering Snack</a><section id=main class=mt5><h1 itemprop=name id=title class=mb1>Libplanet 0.8 Released</h1><div class="f6 gray dib-ns"><time itemprop=datePublished datetime=2020-02-05>February 5, 2020
</time>(<strong></strong>
&bull;
<a href=https://snack.planetarium.dev/kor/2020/02/libplanet-0.8/ hreflang=ko title="Libplanet 0.8 릴리스" class=gray>한국어</a>)</div><article itemprop=articleBody id=content class="w-100 lh-copy"><p>Hello All.</p><p>Our team has released the eighth minor version of <a href=https://libplanet.io/>Libplanet</a>, <a href=https://github.com/planetarium/libplanet/releases/tag/0.8.0>Version 0.8</a>.</p><p>Libplanet is a common library that solves game implementation problems such as P2P communication and data synchronization when creating online multiplayer games that run on distributed P2P.</p><p>With the new version updated in nearly three months, there have been many improvements in version 0.8 including storage optimization. This article will cover major changes of Version 0.8.</p><h2 id=genesis-block-anticipation>Genesis Block Anticipation</h2><p><code>BlockChain&lt;T></code> now anticipates a particular genesis block. This is to prevent mistakes such as multiple games attempting to connect to the wrong network. Mistakes like above might occur because although games made from Libplanet form separate networks, Libplanet behaves in a type of metaprotocol.</p><p><a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Blockchain.BlockChain-1.html#Libplanet_Blockchain_BlockChain_1__ctor_Libplanet_Blockchain_Policies_IBlockPolicy__0__Libplanet_Store_IStore_Libplanet_Blocks_Block__0__><code>BlockChain&lt;T>()</code> constructor</a> takes the <code>Block&lt;T></code> object as a factor and the block becomes the first block. If genesis block contained in <code>IStore</code> and the genesis block expected by the <code>BlockChain&lt;T>()</code> constructor do not match, <a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Blocks.InvalidGenesisBlockException.html><code>InvalidGenesisBlockException</code></a> will occur.</p><p>Currently, the constructor receives the entire <code>Block&lt;T></code> object, but <a href=https://github.com/planetarium/libplanet/pull/769>the next version will have the constructor only receive the genesis block hash and the actual block content to be received from other nodes on the network.</a></p><h2 id=defaultstoredefaultstore--litedbstore><a href=https://docs.libplanet.io/master/api/Libplanet.Store.DefaultStore.html><code>DefaultStore</code></a> ← <code>LiteDBStore</code></h2><p><code>LiteDBStore</code>, a built-in <code>IStore</code> implementation, has been removed and <a href=https://docs.libplanet.io/master/api/Libplanet.Store.DefaultStore.html><code>DefaultStore</code></a> has replaced it.</p><p>The reason for this replacement is that while only a single LiteDB file was stored before, more files with multiple formats have been added to be stored within a directory from this version.</p><p>Another reason was our intention to remove implementation details from the name, with efforts to optimize the repository until the 1.0.0 release.</p><p>In addition, a <code>compress</code> option has been created in the <a href=https://docs.libplanet.io/master/api/Libplanet.Store.DefaultStore.html#Libplanet_Store_DefaultStore__ctor_System_String_System_Boolean_System_Boolean_System_Int32_System_Int32_System_Int32_System_Int32_System_Boolean_System_Boolean_><code>DefaultStore()</code> constructor</a> to reduce storage space. Although the option is still turned off by default in this version, the default will be changed to <code>true</code> in the next version.</p><h2 id=icryptobackendicryptobackend><a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Crypto.ICryptoBackend.html><code>ICryptoBackend</code></a></h2><p>To be used on a variety of platforms, Libplanet has been using a cryptographic library written in pure C#, <a href=http://www.bouncycastle.org/csharp/>Bouncy Castle</a>. Although pure C# implementations are a great advantage in portability, they serve as a penalty in performance.</p><p>In the new version, an abstraction layer called <a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Crypto.ICryptoBackend.html><code>ICryptoBackend</code></a> has been added to allow game developers to choose between portability and performance. While the default implementation, <a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Crypto.DefaultCryptoBackend.html><code>DefaultCryptoBackend</code></a>, is still internally dependent on Bouncy Castle, game developers can achieve performance benefits by implementing the <code>ICryptoBackend</code> interface appropriately, depending on the game’s target platform.</p><p>For example, if you want Libplanet to use <code>MyCryptoBackend</code> class that implements <code>ICryptoBackend</code>, you can overwrite <a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Crypto.CryptoConfig.html#Libplanet_Crypto_CryptoConfig_CryptoBackend><code>CryptoConfig.CryptoBackend</code> property</a> as shown below.</p><div class=highlight><pre tabindex=0 style=background-color:#fff><code class=language-csharp data-lang=csharp><span style=display:flex><span>CryptoConfig.CryptoBackend = <span style=color:#080;font-weight:700>new</span> MyCryptoBackend();
</span></span></code></pre></div><p>In the case of <a href=https://nine-chronicles.com/>Nine Chronicles</a>, a game currently being developed by our team, we have also improved game performance by implementing <code>ICryptoBackend</code> interface that calls <a href=https://github.com/bitcoin-core/secp256k1>secp256k1</a> C library unveiled in the Bitcoin project.</p><h2 id=routing-table-improvement>Routing Table Improvement</h2><p>Because Libplanet uses <a href=https://snack.planetarium.dev/eng/2019/09/kademlia/><abbr title="distributed hash table">DHT</abbr></a> to communicate with other peers, it stores information about the peers associated with itself on the routing table.</p><p>Traditionally, this routing table only stored the most recent communication points with that peer. But now, we&rsquo;ve also added a communication delay info to give you more information about the network environment.</p><p>Developers can use the newly added <a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Net.Swarm-1.html#Libplanet_Net_Swarm_1_CheckAllPeersAsync_System_Nullable_TimeSpan__CancellationToken_><code>Swarm&lt;T>.CheckAllPeersAsync()</code> method</a> to update peers stored on routing tables, and access <a href=https://docs.libplanet.io/0.8.0/api/Libplanet.Net.Swarm-1.html#Libplanet_Net_Swarm_1_Peers><code>Swarm&lt;T>.Peers</code> property</a> from outside Libplanet to identify the peers currently on its routing tables.</p><h2 id=changed-block-structure-and-serialization>Changed Block Structure and Serialization</h2><p>A block that is a component of the blockchain can be divided into two parts: the transactions and the metadata excluding the transactions.</p><p>As with many blockchain projects, we&rsquo;ve defined the part minus the transactions as block headers, and we are now able to compute more efficiently than ever before by using a block header that contains more information compared to only using block hash for computation.</p><p>In addition, when serializing blocks and transactions, field keys are shortened and the empty fields are completely excluded, making the serialized expression lighter.</p><h2 id=documentation-improvement>Documentation Improvement</h2><p>Although not a change to the library itself, there have been improvements in the design of the <a href=https://docs.libplanet.io/0.8.0/>docs website</a> and a new <a href=https://docs.libplanet.io/0.8.0/articles/overview.html>Overview</a> document written by Swen Mun has been added.</p><h2 id=furthermore>Furthermore,</h2><p>In addition, there have been a number of other changes while fixing many problems that we found during our 3 months of <a href=https://nine-chronicles.com/>Nine Chronicles</a> public testing. Details can be found in the <a href=https://github.com/planetarium/libplanet/releases/tag/0.8.0>entire change history</a>.</p><p>If you&rsquo;re curious, install it and try it. And as always, if you have any questions about the new release or Libplanet in general, please visit our <a href=https://discord.gg/planetarium>Discord</a> chatroom and let’s chat!</p></article><script>(function(){if(!location.hash.match(/^#/))return;var t,n,s,a,o=document.getElementById("content"),r=window.decodeURIComponent(location.hash.substring(1)),i=document.getElementById(r),e=i.nodeName.match(/^H([123456])$/);if(!e||i.parentNode!==o)return;for(a=window.parseInt(e[1]),t=!1,s=0;s<o.childNodes.length;s++)n=o.childNodes[s],t?(e=n.nodeName.match(/^H([123456])$/),e&&window.parseInt(e[1])>=a&&(t=!1)):n===i&&(t=!0),!t&&!n.nodeName.match(/^#/)&&(n.className+=" dim")})()</script><div itemprop=author class="fl tc mr3"><a href=https://github.com/limebell rel=author itemprop=url class="no-underline mid-gray b f6"><img src="https://www.gravatar.com/avatar/e7b1079fc34b3ee9068d5d322aad9238?d=https://avatars.githubusercontent.com/limebell" itemprop=image class="w3 h3 br-100 mb1"><br>Chanhyuck Ko</a></div><div itemprop=author class="fl tc mr3"><a href=https://github.com/dahlia rel=author itemprop=url class="no-underline mid-gray b f6"><img src="https://www.gravatar.com/avatar/03acbf60571d4ef2bf3741aecfa1b8cb?d=https://avatars.githubusercontent.com/dahlia" itemprop=image class="w3 h3 br-100 mb1"><br>Hong Minhee</a></div></section><footer><div><p class="f6 gray mt6 lh-copy">&copy; 2019&ndash;2023
<a href=https://planetariumlabs.com/ style=color:inherit;text-decoration:inherit>Planetarium</a>.</p></div></footer></body></html>