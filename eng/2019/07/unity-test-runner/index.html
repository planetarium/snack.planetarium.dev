<!doctype html><html lang=en prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=description content><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content><meta property="og:type" content="article"><meta property="og:description" content><meta property="og:title" content="Experiencing Unity Test Runner"><meta property="og:site_name" content="Planetarium Engineering Snack"><meta property="og:image" content="https://snack.planetarium.dev/1/01/unity-test-runner/test-result.png"><meta property="og:image" content="https://snack.planetarium.dev/1/01/unity-test-runner/tests-asmdef.png"><meta property="og:image" content="https://snack.planetarium.dev/1/01/unity-test-runner/unity-platform.png"><meta property="og:url" content="https://snack.planetarium.dev/eng/2019/07/unity-test-runner/"><meta property="og:locale" content="en"><meta property="article:published_time" content="2019-07-12"><meta property="article:modified_time" content="2019-07-12"><meta name=twitter:card content="summary"><meta name=twitter:site content="@"><meta name=twitter:creator content="@"><meta name=twitter:title content="Experiencing Unity Test Runner | Planetarium Engineering Snack"><meta name=twitter:description content="Hello, I&rsquo;m Yang Chunung, game developer at Planetarium. Today I&rsquo;m here to talk about my experience using the Unity Test Runner.
Before I Start
I am currently developing blockchain games using Libplanet and Unity. After joining the team and learning that we’d be developing games with Unity, I had this rather unfounded confidence thinking, “I’ve had plenty of GUI programming experience, so how hard could it be?” (note: I had no prior experience with Unity).|"><meta name=twitter:image:src content><meta name=twitter:domain content="https://snack.planetarium.dev/eng/2019/07/unity-test-runner/"><title>Experiencing Unity Test Runner</title>
<link rel=canonical href=https://snack.planetarium.dev/eng/2019/07/unity-test-runner/><link rel=alternate href=https://snack.planetarium.dev/kor/2019/07/unity-test-runner/ hreflang=ko title="Unity 테스트 러너 도입기"><link href=https://snack.planetarium.dev/index.xml rel=alternate type=application/atom+xml title="Experiencing Unity Test Runner"><link rel=stylesheet href=https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css><link rel=stylesheet href=https://snack.planetarium.dev/css/style.min.1a35efb5c5da4fd20bd2ec86458da5ee7cc1cfc81c4f107944b5e0fc59a3d809.css integrity="sha256-GjXvtcXaT9IL0uyGRY2l7nzBz8gcTxB5RLXg/Fmj2Ak="><script async src="https://www.googletagmanager.com/gtag/js?id=UA-132504786-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-132504786-2")</script><link rel=icon href=/favicon-32x32.png type=image/png sizes=32x32><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/apple-touch-icon.png></head><body class="sans-serif w-90 w-60-ns center center-ns mv2 mv5-ns" itemscope itemtype=http://schema.org/Article><a href=https://snack.planetarium.dev/eng/ id=site-title class="b bb bw1 pb1 no-underline dark-gray">Planetarium Engineering Snack</a><section id=main class=mt5><h1 itemprop=name id=title class=mb1>Experiencing Unity Test Runner</h1><div class="f6 gray dib-ns"><time itemprop=datePublished datetime=2019-07-12>July 12, 2019
</time>(<strong></strong>
&bull;
<a href=https://snack.planetarium.dev/kor/2019/07/unity-test-runner/ hreflang=ko title="Unity 테스트 러너 도입기" class=gray>한국어</a>)</div><article itemprop=articleBody id=content class="w-100 lh-copy"><p>Hello, I&rsquo;m Yang Chunung, game developer at Planetarium. Today I&rsquo;m here to talk about my experience using the <a href=https://docs.unity3d.com/Manual/testing-editortestsrunner.html>Unity Test Runner</a>.</p><h2 id=before-i-start>Before I Start</h2><p>I am currently developing blockchain games using <a href=https://github.com/planetarium/libplanet.net>Libplanet</a> and Unity. After joining the team and learning that we’d be developing games with Unity, I had this rather unfounded confidence thinking, “I’ve had plenty of GUI programming experience, so how hard could it be?” (note: I had no prior experience with Unity).</p><p>Obviously, my lacking Unity experience led me to give up testing when I first started the project, but as time went on, the need for testing grew and that’s when I found the Unity Test Runner.</p><p>The Unity Test Runner is a built-in test tool provided by Unity. After creating a <a href=https://nunit.org/>NUnit</a>-based test, you can run the test in Unity Editor by building a testing environment<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> in both Play Mode and Edit Mode.</p><h2 id=assembly-definition-files>Assembly Definition Files</h2><p>After making a test script using the documents, I ran into a problem. While other libraries were recognized without any issue, the test script couldn’t recognize the namespace of the actual game code that I wanted to test. The reason was that unlike <em>Assembly-CSharp.dll</em>, which is automatically recognized in Unity editor, the game project script couldn’t be recognized within the test script. </p><figure><img src=/1/01/unity-test-runner/tests-asmdef.png alt="Adding Dependencies on Tests.asmdef"><figcaption><p>Adding Dependencies on <em>Tests.asmdef</em></p></figcaption></figure><p>Creating an assembly definition file that defines a project script and then adding dependencies to the assembly definition file<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> defined for testing will solve the problem.</p><p>Please refer to the <a href=https://docs.unity3d.com/2018.3/Documentation/Manual/ScriptCompilationAssemblyDefinitionFiles.html>relevant documentation</a> for more information.</p><h2 id=platform-settings-for-assembly-definition-files>Platform Settings for Assembly Definition Files</h2><p>Even after creating the assembly definition file, the third-party library that works well in the editor broke down when building due to recognition failure.
This problem was caused by the assembly definition file trying to include the extended editor features sometimes provided in libraries within the build.</p><figure><img src=/1/01/unity-test-runner/unity-platform.png alt="Check only Editor"><figcaption><p>Check only Editor</p></figcaption></figure><p>The solution is quite simple: create a separate editor definition file inside that library’s <em>Editor</em> folder and change the <em>Include Platforms</em> setting to only <em>Editor</em>.</p><h2 id=running-the-test>Running the Test</h2><p>When ready, create the test and run it in the editor. Results can be viewed directly from the Test Runner window. </p><figure><img src=/1/01/unity-test-runner/test-result.png alt="Test Results"><figcaption><p>Test Results</p></figcaption></figure><p>Although there are still more codes in the current project that have not been tested, since the Unity Test Runner has been applied, we&rsquo;ve been writing tests together for bug fixes and new add-ons, which has saved us a lot of time in checking production and logic &mdash; something we used to check by running the game every time.
For other projects that also use Unity, I confidently recommend that you apply the Unity Test Runner to increase productivity and enhance overall project experience. Thank you!</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Unity player built for that platform can automatically build and run Play Mode Testing on its own.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>If you didn’t do a separate setting when creating the test runner in the editor, it will be created as <em>Assets/Tests/Test.asmdef</em>.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article><script>(function(){if(!location.hash.match(/^#/))return;var t,n,s,a,o=document.getElementById("content"),r=window.decodeURIComponent(location.hash.substring(1)),i=document.getElementById(r),e=i.nodeName.match(/^H([123456])$/);if(!e||i.parentNode!==o)return;for(a=window.parseInt(e[1]),t=!1,s=0;s<o.childNodes.length;s++)n=o.childNodes[s],t?(e=n.nodeName.match(/^H([123456])$/),e&&window.parseInt(e[1])>=a&&(t=!1)):n===i&&(t=!0),!t&&!n.nodeName.match(/^#/)&&(n.className+=" dim")})()</script><div itemprop=author class="fl tc mr3"><a href=https://github.com/ipdae rel=author itemprop=url class="no-underline mid-gray b f6"><img src="https://www.gravatar.com/avatar/90bb923f49732620a2624a6b633b32bc?d=https://avatars.githubusercontent.com/ipdae" itemprop=image class="w3 h3 br-100 mb1"><br>Yang ChunUng</a></div></section><footer><div><p class="f6 gray mt6 lh-copy">&copy; 2019&ndash;2025
<a href=https://planetariumlabs.com/ style=color:inherit;text-decoration:inherit>Planetarium</a>.</p></div></footer></body></html>